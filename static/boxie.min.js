!function n(r,i,s){function u(t,e){if(!i[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(a)return a(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}o=i[t]={exports:{}},r[t][0].call(o.exports,function(e){return u(r[t][1][e]||e)},o,o.exports,n,r,i,s)}return i[t].exports}for(var a="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,o){"use strict";function i(e,t){var o,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(o="Object"===o&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.el=$("#autocomplete"),this.isAutoCompVisible=!1,this.lastIndex=-1}var t,o,n;return t=e,(o=[{key:"init",value:function(){var r=this;document.addEventListener("keydown",function(e){"ArrowDown"!==e.code&&"ArrowUp"!==e.code||!r.isAutoCompVisible||e.preventDefault(),"Tab"===e.code&&r.isAutoCompVisible&&e.preventDefault(),"ArrowDown"===e.code&&r.isAutoCompVisible&&(r.lastIndex>=$("#autocomplete .suggestion").length-1?r.lastIndex=0:r.lastIndex++,$("#autocomplete .suggestion").removeClass("selected").get(r.lastIndex).addClass("selected")),"ArrowUp"===e.code&&r.isAutoCompVisible&&(r.lastIndex<=0?r.lastIndex=$("#autocomplete .suggestion").length-1:r.lastIndex--,$("#autocomplete .suggestion").removeClass("selected").get(r.lastIndex).addClass("selected"))},!0),document.addEventListener("keyup",function(e){return"Escape"===e.code?(r.lastIndex=-1,r.isAutoCompVisible=!1,void $("#autocomplete").hide()):"Tab"===e.code&&r.isAutoCompVisible?(t=0<$("#autocomplete .suggestion.selected").length?$("#autocomplete .suggestion.selected").text()+" ":$("#autocomplete .suggestion").text()+" ",r.replaceWith(t),r.lastIndex=-1,r.isAutoCompVisible=!1,void $("#autocomplete").hide()):void("ArrowDown"!==e.code&&"ArrowUp"!==e.code&&(t=r.getCaretCoordinates(),e=r.lastText(),(o=t.x-75)<0&&(o=0),(n=t.y+20)>window.innerHeight-$("#autocomplete").height()&&(n=t.y-$("#autocomplete").height()),$("#autocomplete").css({top:n+"px",left:o+"px"}),""===e.trim()?(r.lastIndex=-1,r.isAutoCompVisible=!1,$("#autocomplete").hide()):r.fetchSuggestions(e)));var t,o,n},!0)}},{key:"fetchSuggestions",value:function(e){var r=this;$.request("https://inputtools.google.com/request?text="+encodeURIComponent(e)+"&itc=ta-t-i0-und&num=13&cp=0&cs=1&ie=utf-8&oe=utf-8").onLoad(function(e){var t,e=JSON.parse(e.responseText),o=($("#autocomplete .suggestion").remove(),i(e[1][0][1]));try{for(o.s();!(t=o.n()).done;){var n=t.value;$('<div class="suggestion">'.concat(n,"</div>")).appendTo("#autocomplete")}}catch(e){o.e(e)}finally{o.f()}0<e[1][0][1].length&&(r.isAutoCompVisible=!0,$("#autocomplete").show())}).send("GET")}},{key:"getCaretCoordinates",value:function(){var e,t=0,o=0;return void 0!==window.getSelection&&0!==(e=window.getSelection()).rangeCount&&((e=e.getRangeAt(0).cloneRange()).collapse(!0),(e=e.getClientRects()[0])&&(t=e.left,o=e.top)),{x:t,y:o}}},{key:"lastText",value:function(){var e=window.getSelection();if(!e.focusNode)return"";var t=e.focusNode.textContent.substring(0,e.focusOffset).split(" "),t=t[t.length-1],o=e.focusOffset,t=o-t.length;if(this.lastPos={startIndex:t,endIndex:o},-1==t)return"";var n=document.createRange();return n.setStart(e.focusNode,t),n.setEnd(e.focusNode,o),n.toString()}},{key:"replaceWith",value:function(e){var t,o,n,r,i=window.getSelection();i.focusNode&&(t=(t=i.focusNode.textContent.substring(0,i.focusOffset).split(" "))[t.length-1],o=i.focusOffset,-1!=(n=o-t.length)&&((r=document.createRange()).setStart(i.focusNode,n),r.setEnd(i.focusNode,o),r.deleteContents(),r.insertNode(document.createTextNode(e)),setTimeout(function(){r.setStart(i.focusNode,n+e.length),i.removeAllRanges(),i.addRange(r)},1)))}}])&&r(t.prototype,o),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())).init()},{}]},{},[1]);
//# sourceMappingURL=.maps/boxie.min.js.map
